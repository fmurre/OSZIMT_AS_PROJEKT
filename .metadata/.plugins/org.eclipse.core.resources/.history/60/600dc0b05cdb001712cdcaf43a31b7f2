


import java.sql.SQLException;
import java.util.List;
import java.util.Scanner;

import application.IO_Menu;
import application.O_Flugzeug;
import application.builder;

public class IO_fluverw {
	static Scanner sc = new Scanner(System.in);
	//====Neues Objekt====	
	public static void neuobj() throws SQLException {
		//Eingaben
		System.out.println("\n----------Neues Flugzeug hinzufügen-----------");                                            //--Eingabe Beginn
	    System.out.print("\nGeben Sie das Flugzeugmodell ein: ");
	    String modell=sc.next();
	    System.out.print("\nGeben Sie die Sitzplätze des Flugzeugs ein: ");
	    int sitze=sc.nextInt();
	    
	    //nächste freie ID wird aus DB geladen
	    List<O_Flugzeug> flugzeuge=builder.getflu();
	    if (flugzeuge != null) {
	    	int id=1;
	    	try {
	    		id=flugzeuge.get(flugzeuge.size()-1).getId()+1;
	    	}
	    	catch (ArrayIndexOutOfBoundsException e) {
	    		System.out.println("\nDies ist der erste Datensatz. ID=1");
	    	}
	    	//Flugzeug Objekt erstellen
	    	O_Flugzeug flugzeug = builder.newflu(id, modell, sitze);
	    
	    	//Ausgabe Check
	    	System.out.println("\nSie haben folgendes Flugzeug hinzugefügt:");                                                     //--Ausgabe Beginn
	    	System.out.println("Flugzeugnummer: "+flugzeug.getId());
	    	System.out.println("Modell: "+flugzeug.getModell());
	    	System.out.println("Sitzplätze: "+flugzeug.getSitze()); 
	    }
	    IO_Menu.fortfahrenMainMenu();
	}//end of method neuobj
		
	//====Objekt löschen	
	public static void delobj() throws SQLException {
		int i=0, id=0;
		
		//erzeuge ArrayList mit allen in DB(t_flugzeuge) vorhandenen Einträgen
		List<O_Flugzeug> flugzeuge=builder.getflu();
	    
		
		System.out.println("\n----------Flugzeug entfernen-----------");                                            	
	    System.out.print("\nGeben Sie die Nummer des Flugzeugs ein: ");	
	    id=sc.nextInt();
	    
		//Prüfung ob ID vergeben
	    while (i==0) {
	    	for (O_Flugzeug flugzeug: flugzeuge) {//foreach Schleife, für jedes Flugzeugobjekt in Array Flugzeug
	    		if (id==flugzeug.getId()) {
	    			//Ausgabe Check
	    			System.out.println("\nSie löschen folgendes Flugzeug:");
	    		    System.out.println("Flugzeugnummer: "+ id );
	    		    System.out.println("Modell: "+ flugzeug.getModell());
	    		    System.out.println("Sitzplätze: "+ flugzeug.getSitze());
	    		    i=0;
	    		    while (i==0) {//löschen bestätigen
	    		    	System.out.println("Löschen bestätigen (Y/N)");
	    		    	char del=sc.next().toLowerCase().charAt(0);
	    		    	switch (del) {
	    		    	case 'y' ://wird gelöscht
	    			    	i=1;
	    			    	builder.delflu(id);
	    			    	System.out.println("Erfolgreich gelöscht");
	    			    break;
	    		    	case 'n' ://wird nicht gelöscht
	    		    		i=1;
	    			    	System.out.println("Löschen beendet");
	    			    break;
	    			    default:
	    			    	i=0;
	    			    }//end of switch
	    			}//end of while
	    		}
	    			
	    	}//end of for
	    	if (i==0) { 
	    		System.out.print("\nDie eingegebene Kundenummer existiert nicht. Geben Sie eine andere ein: (0=Beenden)");
	    		id=sc.nextInt();
	    	}
	    	if (id==0) break;//break weil User 0=beenden gewählt hat
	    }//end of while
	    
		IO_Menu.fortfahrenMainMenu();
	}//end of method delobj

	//===Objekt anzeigen
		public static void showobj() throws SQLException {
			int i=0;
			
			//erzeuge ArrayList mit allen in DB(t_flugzeuge) vorhandenen Einträgen
			List<O_Flugzeug> flugzeuge=builder.getflu();
			   
			
			System.out.println("\n----------Anzeigen eines Flugzeugs-----------");
			System.out.print("\nGeben Sie die Nummer des Flugzeugs ein: ");	
			int id=sc.nextInt();
			
			//Überprüfung ob Flugzeugnummer vorhanden
			while (i==0) { 
				for (O_Flugzeug flugzeug: flugzeuge) {
					if (id==flugzeug.getId()) {
						i=1;
						System.out.println("Flugzeugnummer: "+ id );
		    		    System.out.println("Modell: "+ flugzeug.getModell());
		    		    System.out.println("Sitzplätze: "+ flugzeug.getSitze());
		    		    break;
					}//end of if
				}//end of for
				if (i==0) {
					System.out.print("\nDie eingegebene Flugzeugnummer existiert nicht. Geben Sie eine andere ein: (0=Beenden)");
					id=sc.nextInt();
				}//end of if
				if (id==0) break; //wenn User 0=beenden gewählt hat
			} // end of while 
			IO_Menu.fortfahrenMainMenu();
		}//end of method showobj

	
		public static void showall() throws SQLException {
			//erzeuge ArrayList mit allen in DB(t_flugzeuge) vorhandenen Einträgen
			List<O_Flugzeug> flugzeuge=builder.getflu();
						
			System.out.println("\n----------Anzeigen aller Flugzeuge-----------");
		    for (O_Flugzeug flugzeug: flugzeuge) {
		        System.out.println("\nFlugzeugnummer: "+flugzeug.getId());
		        System.out.println("Modell: "+flugzeug.getModell());
		        System.out.println("Sitzplätze: "+flugzeug.getSitze());
		      
		    } // end of for
		    IO_Menu.fortfahrenMainMenu();
		}//end of method showall

}//end of class Objektverwaltung
